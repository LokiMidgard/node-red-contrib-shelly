[{"id":"41cee700.9fa288","type":"shelly-rgbw2","z":"365debdef1efd315","hostname":"192.168.178.248","description":"RGBW (Bulb)","ledStat":false,"pollinginterval":"5000","x":640,"y":200,"wires":[["19ac8e65.252a42"]]},{"id":"19ac8e65.252a42","type":"debug","z":"365debdef1efd315","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":830,"y":200,"wires":[]},{"id":"3fa1a28b.020b7e","type":"function","z":"365debdef1efd315","name":"Initialize Colors","func":"// Tip: to have a smoother effect you should set the transition time in the RGBW2 node to 300ms\n// This depends on the interval in the inject node which is set actually to 300ms.\nvar rgbwValues = [\n    {mode : \"color\", red : 255, green : 0, blue : 0, on : true, timer : 0, white : 0, gain: 100, effect: 0, transition: 0},\n    {mode : \"color\", red : 255, green : 0, blue : 0, on : true, timer : 0, white : 0, gain: 90, effect: 0, transition: 0},\n    {mode : \"color\", red : 255, green : 0, blue : 0, on : true, timer : 0, white : 0, gain: 80, effect: 0, transition: 0},\n    {mode : \"color\", red : 255, green : 0, blue : 0, on : true, timer : 0, white : 0, gain: 60, effect: 0, transition: 0},\n    {mode : \"color\", red : 255, green : 0, blue : 0, on : true, timer : 0, white : 0, gain: 40, effect: 0, transition: 0},\n    {mode : \"color\", red : 255, green : 0, blue : 0, on : true, timer : 0, white : 0, gain: 20, effect: 0, transition: 0},\n    {mode : \"color\", red : 255, green : 0, blue : 0, on : true, timer : 0, white : 0, gain: 10, effect: 0, transition: 0},\n    {mode : \"color\", red : 255, green : 0, blue : 0, on : true, timer : 0, white : 0, gain: 10, effect: 0, transition: 0},\n    {mode : \"color\", red : 0, green : 255, blue : 0, on : true, timer : 0, white : 0, gain: 10, effect: 0, transition: 0},\n    {mode : \"color\", red : 0, green : 0, blue : 255, on : true, timer : 0, white : 0, gain: 20, effect: 0, transition: 0},\n    {mode : \"color\", red : 0, green : 0, blue : 255, on : true, timer : 0, white : 0, gain: 40, effect: 0, transition: 0},\n    {mode : \"color\", red : 0, green : 0, blue : 255, on : true, timer : 0, white : 0, gain: 60, effect: 0, transition: 0},\n    {mode : \"color\", red : 0, green : 0, blue : 255, on : true, timer : 0, white : 0, gain: 80, effect: 0, transition: 0},\n    {mode : \"color\", red : 0, green : 0, blue : 255, on : true, timer : 0, white : 0, gain: 90, effect: 0, transition: 0},\n    {mode : \"color\", red : 0, green : 0, blue : 255, on : true, timer : 0, white : 0, gain: 100, effect: 0, transition: 0},\n    {mode : \"color\", red : 0, green : 0, blue : 255, on : true, timer : 0, white : 0, gain: 100, effect: 0, transition: 0},\n    {mode : \"color\", red : 0, green : 0, blue : 255, on : true, timer : 0, white : 0, gain: 100, effect: 0, transition: 0},\n    {mode : \"color\", red : 0, green : 0, blue : 255, on : true, timer : 0, white : 0, gain: 100, effect: 0, transition: 0},\n    {mode : \"color\", red : 0, green : 0, blue : 255, on : true, timer : 0, white : 0, gain: 100, effect: 0, transition: 0},\n    {mode : \"color\", red : 0, green : 0, blue : 255, on : true, timer : 0, white : 0, gain: 100, effect: 0, transition: 0},\n    {mode : \"color\", red : 0, green : 0, blue : 255, on : true, timer : 0, white : 0, gain: 100, effect: 0, transition: 0},\n    {mode : \"color\", red : 0, green : 0, blue : 255, on : true, timer : 0, white : 0, gain: 100, effect: 0, transition: 0},\n    {mode : \"color\", red : 0, green : 0, blue : 255, on : true, timer : 0, white : 0, gain: 100, effect: 0, transition: 0},\n];\nflow.set(\"rgbwValues\", rgbwValues);\nflow.set(\"rgbwValuesIndex\", 0);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":460,"y":140,"wires":[[]]},{"id":"e1f1130.eecc8f","type":"inject","z":"365debdef1efd315","name":"Reset","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":true,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":240,"y":140,"wires":[["3fa1a28b.020b7e"]]},{"id":"2ba3d484.11014c","type":"inject","z":"365debdef1efd315","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"1","crontab":"","once":false,"onceDelay":0.1,"topic":"","payloadType":"date","x":250,"y":200,"wires":[["4d667ff6.1fffd"]]},{"id":"4d667ff6.1fffd","type":"function","z":"365debdef1efd315","name":"Loop Colors","func":"\nvar rgbwValues = flow.get(\"rgbwValues\");\nvar rgbwValuesIndex = flow.get(\"rgbwValuesIndex\");\nmsg.payload = rgbwValues[rgbwValuesIndex];\n\nrgbwValuesIndex = (rgbwValuesIndex + 1) % rgbwValues.length;\nflow.set(\"rgbwValuesIndex\", rgbwValuesIndex);\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":450,"y":200,"wires":[["41cee700.9fa288"]]}]